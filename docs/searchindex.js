Search.setIndex({"docnames": ["HowTo/HowToCPU", "HowTo/HowToDebugger", "HowTo/HowToDelegation", "HowTo/HowToDisassembler", "Overview/About", "Reference/ConfigOptions", "Tutorials/GettingStarted", "index"], "filenames": ["HowTo/HowToCPU.md", "HowTo/HowToDebugger.md", "HowTo/HowToDelegation.md", "HowTo/HowToDisassembler.md", "Overview/About.md", "Reference/ConfigOptions.md", "Tutorials/GettingStarted.md", "index.rst"], "titles": ["How to use the CPU core", "How to use the debugger", "How to use the delegation system", "How to use the disassembler", "About", "Configuration options", "Getting started", "User manual"], "terms": {"To": [0, 4, 5], "integr": [0, 3], "moira": [0, 1, 2, 3, 4, 5, 6], "your": [0, 1], "own": [0, 4], "applic": [0, 4, 5, 6], "copi": 0, "content": [0, 1], "subfold": 0, "all": [0, 1, 2, 3, 4, 5, 6], "other": [0, 4, 5, 6], "file": [0, 5, 6], "ar": [0, 1, 2, 3, 4, 5, 6], "onli": [0, 2, 4, 5, 6], "need": [0, 1, 4, 5, 6], "test": [0, 4, 5, 6], "By": [0, 2], "default": [0, 1, 2, 3, 5, 6], "i": [0, 1, 2, 3, 4, 5, 6], "configur": [0, 7], "declar": [0, 2, 5], "function": [0, 1, 2, 3, 4, 5], "requir": [0, 4, 5], "implement": [0, 2, 4, 5], "virtual": [0, 2, 5], "do": 0, "so": 0, "follow": [0, 1, 2, 3, 5], "basic": 0, "c": [0, 4, 6], "design": 0, "principl": 0, "which": [0, 1, 3, 4, 5], "mean": [0, 1], "sub": [0, 1], "class": [0, 1, 2, 4], "A": [0, 1, 2, 3], "minim": 0, "look": [0, 2, 4], "like": [0, 2, 4], "thi": [0, 1, 2, 3, 4, 5, 6], "includ": 0, "h": [0, 2, 5, 6], "public": [0, 1], "u8": [0, 2, 3], "read8": 0, "u32": [0, 1, 2, 3], "addr": [0, 1, 2, 3], "overrid": 0, "u16": [0, 1, 2], "read16": 0, "void": [0, 1, 2, 3], "write8": 0, "val": 0, "write16": 0, "an": [0, 1, 2, 4, 5, 6], "abstract": 0, "four": [0, 6], "mention": 0, "method": [0, 2], "These": [0, 4], "provid": [0, 1, 2, 4, 5], "transfer": 0, "byte": [0, 3], "word": [0, 3, 5], "between": [0, 3, 4], "altern": 0, "can": [0, 1, 2, 3, 4, 6], "interfac": [0, 5], "non": 0, "speed": [0, 2, 4, 5], "up": [0, 5], "emul": [0, 1, 4, 5, 6], "solut": 0, "ha": [0, 1, 2, 4, 5], "been": [0, 2, 4], "chosen": 0, "vamiga": [0, 3, 4], "achiev": [0, 4], "maximum": 0, "after": [0, 2, 6], "instanti": 0, "object": [0, 1], "The": [0, 1, 2, 3, 4, 5, 6], "most": [0, 1, 4], "import": [0, 4], "type": [0, 5], "select": [0, 2, 3], "api": [0, 1, 3, 5], "setmodel": 0, "model": [0, 5, 6], "cpumodel": 0, "current": [0, 1, 3], "support": [0, 1, 2, 3, 5], "m68000": 0, "m68010": 0, "m68ec020": 0, "m68020": 0, "both": [0, 4], "disassembl": [0, 4, 5, 6, 7], "dasmmodel": 0, "seper": [0, 6], "becaus": [0, 4, 5], "broader": 0, "rang": [0, 6], "wherea": 0, "restrict": 0, "abov": [0, 6], "capabl": 0, "produc": 0, "output": [0, 4], "higher": 0, "end": [0, 2, 5], "too": 0, "specifi": [0, 1, 3], "kei": 0, "m68ec030": 0, "m68030": 0, "m68ec040": 0, "m68lc040": 0, "m68040": 0, "readi": 0, "two": 0, "main": 0, "entri": [0, 1], "point": [0, 4, 5], "devic": 0, "reset": [0, 2], "initi": [0, 3], "": [0, 1, 2, 4, 5], "intern": [0, 4], "procedur": 0, "execut": [0, 1, 4, 6], "one": [0, 1, 3, 4], "instruct": [0, 1, 3, 4, 5, 6], "pleas": [0, 6], "make": [0, 4, 6], "sure": 0, "befor": [0, 4], "ani": [0, 6], "hold": [0, 3], "variabl": 0, "call": [0, 1, 2, 3, 5, 6], "clock": 0, "count": [0, 4], "number": [0, 1, 3, 4, 5], "cycl": [0, 1, 4, 5], "have": 0, "elaps": [0, 4, 5], "sinc": 0, "power": 0, "code": [0, 1, 2, 4, 5], "util": 0, "until": [0, 4], "certain": [0, 1, 2], "amount": 0, "i64": 0, "now": [0, 4], "getclock": 0, "while": 0, "1000": 0, "keep": 0, "mind": [0, 4], "alwai": 0, "singl": [0, 3, 4, 6], "whole": 0, "slightli": 0, "more": [0, 1, 3, 4], "than": 0, "case": [0, 3, 6], "varieti": [0, 3], "state": 0, "incomprehens": 0, "list": [0, 1, 5], "contain": 0, "ones": 0, "getd": 0, "int": [0, 1, 2, 3], "n": [0, 1], "const": [0, 1, 2, 3], "read": [0, 1, 5], "valu": [0, 1, 2, 3], "from": [0, 1, 3, 4, 5, 6], "data": [0, 5, 6], "regist": [0, 1, 3], "geta": 0, "address": [0, 1, 3, 5], "getpc": 0, "program": [0, 1, 2, 3, 6], "counter": [0, 1, 2, 3], "move": 0, "target": [0, 3], "It": [0, 3, 4, 5], "progress": 0, "getpc0": 0, "return": [0, 1, 3], "unlik": 0, "start": [0, 1, 4, 7], "match": [0, 1], "when": [0, 1, 2, 3, 6], "begin": [0, 2, 4, 5], "remain": [0, 6], "unchang": 0, "next": [0, 1, 4], "process": [0, 2], "In": [0, 4, 5, 6], "scenario": 0, "you": [0, 6], "want": [0, 6], "getccr": 0, "ccr": 0, "part": 0, "statu": [0, 3], "getsr": 0, "entir": [0, 4], "motorola": [0, 3, 4], "68000": [0, 4, 5, 6], "three": [0, 4], "pin": [0, 5], "outsid": 0, "encod": 0, "prioriti": 0, "level": [0, 2, 4], "ipl": 0, "0": [0, 1, 3, 6], "7": [0, 6], "set": [0, 1, 5, 6], "getipl": 0, "setipl": 0, "One": 0, "featur": [0, 1, 3, 4], "inform": [0, 1, 4, 5], "about": [0, 5, 6, 7], "pass": [0, 3, 6], "bu": [0, 1, 4], "transmit": 0, "via": [0, 6], "deleg": [0, 5, 7], "sync": [0, 4, 5], "each": [0, 5], "time": [0, 4, 5, 6], "integ": 0, "indic": 0, "last": [0, 4], "simpli": [0, 6], "add": [0, 1], "share": 0, "chip": 0, "As": [0, 1], "soon": [0, 1], "tri": 0, "intercept": [0, 1], "extern": [0, 4, 5], "hardwar": [0, 5], "alreadi": [0, 4, 6], "reach": [0, 1], "actual": [0, 5], "happen": [0, 5, 6], "determin": [0, 3], "exactli": [0, 4], "whether": [0, 3], "block": 0, "If": [0, 1, 3, 5, 6], "suspend": 0, "increas": 0, "wait": 0, "dure": 0, "stack": 0, "pointer": 0, "must": 0, "fulli": 0, "howev": [0, 4, 6], "easili": 0, "work": [0, 6], "around": 0, "subclass": [0, 2], "read16onreset": 0, "onc": [0, 1], "henc": 0, "even": 0, "without": 0, "being": [0, 4], "oper": 0, "subject": 0, "similar": [0, 4], "issu": 0, "behaviour": 0, "adequ": 0, "e": [0, 2, 5], "g": [0, 2, 5], "amiga": [0, 4], "caus": 0, "side": 0, "effect": [0, 5], "problem": 0, "avoid": 0, "redirect": [0, 2], "anoth": 0, "done": 0, "read16dasm": 0, "should": 0, "exact": [0, 4], "same": [0, 1, 4], "would": 0, "occur": [0, 1, 2], "real": 0, "carri": 0, "out": [0, 6], "come": 1, "built": [1, 3], "debug": [1, 2], "handl": 1, "through": 1, "member": 1, "monitor": 1, "memori": [1, 3, 4, 5], "breakpointreach": [1, 2], "invok": [1, 2, 6], "empti": [1, 2], "bodi": 1, "overwritten": 1, "relat": 1, "addat": 1, "remov": 1, "disableat": 1, "disabl": [1, 5], "kept": 1, "never": 1, "trigger": 1, "enableat": 1, "reenabl": 1, "stepinto": 1, "go": 1, "soft": 1, "delet": 1, "automat": 1, "stepov": 1, "note": [1, 6], "perform": [1, 4, 5], "jump": [1, 5], "might": [1, 4], "write": [1, 4], "access": [1, 4, 5], "watchpointreach": [1, 2], "removeat": 1, "reableat": 1, "except": 1, "vector": [1, 2], "tabl": [1, 5], "thrown": 1, "catchpointreach": [1, 2], "handi": 1, "tool": 1, "thei": 1, "interrupt": [1, 2], "error": [1, 5, 6], "condit": 1, "flexibl": 1, "mechan": 1, "relocat": 1, "wai": [1, 3, 6], "specif": [1, 3], "replac": 1, "special": [1, 5], "linea": 1, "independet": 1, "signal": [1, 2, 5], "put": 1, "back": [1, 4], "origin": 1, "creat": [1, 3, 6], "instr": [1, 2, 5], "place": 1, "mode": [1, 2, 3, 5], "record": 1, "stream": 1, "enabl": [1, 5], "prior": [1, 5], "store": [1, 5], "insid": [1, 6], "buffer": 1, "ring": 1, "whose": 1, "capac": 1, "hard": 1, "256": 1, "element": 1, "facil": 1, "enablelog": 1, "turn": 1, "disablelog": 1, "off": 1, "loggedinstruct": 1, "run": [1, 5], "few": [1, 6], "doe": [1, 4], "chang": [1, 6], "thereaft": 1, "clearlog": 1, "over": [1, 6], "clean": 1, "logentryab": 1, "where": [1, 5], "recent": 1, "logentri": 1, "revers": 1, "oldest": 1, "variou": [2, 3], "event": 2, "cpu": [2, 4, 5, 6, 7], "react": 2, "overrd": 2, "correspond": [2, 5], "didreset": 2, "routin": 2, "didhalt": 2, "halt": 2, "enter": 2, "doubl": 2, "fault": 2, "willexecut": [2, 5], "char": [2, 3], "func": 2, "m": [2, 5], "size": [2, 5], "opcod": [2, 5, 6], "handler": [2, 5], "due": 2, "reason": 2, "macro": [2, 5], "will_execut": [2, 5], "defin": [2, 3, 5], "moiraconfig": [2, 5, 6], "stop": 2, "ta": 2, "bkpt": 2, "didexecut": [2, 5], "did_execut": [2, 5], "exceptiontyp": 2, "exc": 2, "willinterrupt": 2, "didjumptovector": 2, "nr": 2, "didchangecacr": 2, "cacr": 2, "modifi": 2, "68020": [2, 4, 6], "didchangecaar": 2, "caar": 2, "softstopreach": 2, "softwaretrapreach": 2, "allow": [3, 5], "textual": 3, "represent": 3, "str": 3, "command": [3, 4], "respons": 3, "caller": 3, "ensur": 3, "string": 3, "larg": 3, "enough": 3, "gener": [3, 6], "occupi": 3, "disassembleword": 3, "disassemblememori": 3, "cnt": 3, "disassemblepc": 3, "pc": 3, "first": [3, 4, 6], "paramet": 3, "omit": 3, "disassemblesr": 3, "statusregist": 3, "sr": 3, "referenc": 3, "setdasmsyntax": 3, "dasmsyntax": 3, "syntax": 3, "style": 3, "dasm_moira": 3, "print": 3, "dasm_moira_mit": 3, "mit": [3, 4], "dasm_gnu": 3, "resembl": 3, "m68k": [3, 4], "binutil": 3, "dasm_gnu_mit": 3, "mimic": [3, 4], "dasm_musashi": 3, "reproduc": 3, "musashi": [3, 4, 5, 6], "setdasmnumberformat": 3, "dasmnumberformat": 3, "format": 3, "control": [3, 4], "group": 3, "togeth": 3, "sing": 3, "struct": 3, "prefix": 3, "hexidecim": 3, "radix": 3, "10": 3, "decim": 3, "16": 3, "hexadecim": 3, "bool": 3, "uppercas": 3, "lettercas": 3, "digit": 3, "f": 3, "plainzero": 3, "setdasmlettercas": 3, "dasmlettercas": 3, "letter": 3, "appear": [3, 4, 5], "mnemon": 3, "name": [3, 4], "option": [3, 6, 7], "availab": 3, "dasm_mixed_cas": 3, "dasm_lower_cas": 3, "lowercas": 3, "dasm_upper_cas": 3, "setdasmindent": 3, "tabul": 3, "space": [3, 5], "rest": 3, "68010": [4, 5, 6], "680ec20": 4, "written": 4, "compat": [4, 5], "maco": 4, "linux": 4, "window": 4, "sourc": 4, "core": [4, 7], "publish": 4, "under": 4, "term": 4, "licens": 4, "accuraci": [4, 5], "high": 4, "tempor": 4, "wa": 4, "proper": 4, "dma": 4, "effici": 4, "architectur": 4, "gear": 4, "toward": 4, "extens": 4, "us": [4, 5, 7], "templat": 4, "surpass": 4, "belong": 4, "fastest": 4, "ever": 4, "develop": 4, "portabl": 4, "common": 4, "compil": [4, 5], "clang": 4, "gcc": 4, "msvc": 4, "flawlessli": 4, "furthermor": 4, "webassembli": 4, "candid": 4, "web": 4, "base": 4, "project": [4, 6], "earli": 4, "2019": [4, 6], "myself": 4, "exist": 4, "68k": 4, "what": 4, "throughli": 4, "good": 4, "qualiti": 4, "did": 4, "find": 4, "form": 4, "karl": 4, "stenerud": 4, "successfulli": 4, "mame": 4, "mani": 4, "year": 4, "had": 4, "roughli": 4, "realiz": 4, "lack": 4, "precis": [4, 5], "inter": 4, "order": 4, "know": 4, "exampl": 4, "second": 4, "total": 4, "consum": [4, 5], "crucial": 4, "aspect": 4, "came": 4, "conclus": 4, "sophist": 4, "bring": 4, "my": 4, "search": 4, "new": 4, "drawn": 4, "attent": 4, "portable68000": 4, "its": 4, "successor": 4, "denis": 4, "m680x0": 4, "piciji": 4, "offer": 4, "thu": 4, "push": 4, "forward": 4, "wasn": 4, "t": 4, "thoroughli": 4, "far": 4, "superior": 4, "softwar": 4, "view": 4, "At": 4, "decid": 4, "knew": 4, "fact": 4, "consid": 4, "intellectu": 4, "ancestor": 4, "imit": 4, "much": 4, "concept": 4, "bit": 4, "clone": [4, 6], "releas": [4, 6], "down": 4, "charact": 4, "exhibit": 4, "For": [4, 5, 6], "nano": 4, "gigantum": 4, "humeri": 4, "insident": 4, "am": 4, "grate": 4, "musahi": 4, "toni": 4, "wilen": 4, "cputest": 4, "coupl": 5, "precise_tim": 5, "true": 5, "argument": 5, "client": 5, "surround": 5, "avail": [5, 6], "improv": 5, "gain": 5, "virtual_api": 5, "commun": 5, "environ": 5, "appropri": 5, "standard": 5, "oop": 5, "pradigm": 5, "impos": 5, "penalti": 5, "link": 5, "static": 5, "fals": 5, "paradigm": 5, "emulate_address_error": 5, "check": 5, "violat": 5, "long": 5, "odd": 5, "locat": 5, "emulate_fc": 5, "fc0": 5, "fc2": 5, "whenev": 5, "inspect": 5, "usual": 5, "connect": 5, "manag": 5, "unit": 5, "mmu": [5, 6], "enable_dasm": 5, "1mb": 5, "save": 5, "build_instr_info_t": 5, "build": [5, 6], "instrinfo": 5, "lookup": 5, "info": 5, "attribut": 5, "65536": 5, "meant": 5, "debugg": [5, 7], "itself": 5, "therefor": 5, "mimic_musashi": 5, "runner": 5, "compar": [5, 6], "against": 5, "recommend": 6, "download": 6, "directli": 6, "github": 6, "git": 6, "http": 6, "com": 6, "dirkwhoffmann": 6, "cd": 6, "older": 6, "version": 6, "page": 6, "tutori": 6, "mai": 6, "peek": 6, "idea": 6, "cat": 6, "explain": 6, "detail": 6, "section": 6, "easi": 6, "cmake": 6, "directori": 6, "setup": 6, "chain": 6, "afterward": 6, "mkdir": 6, "testrunn": 6, "iter": 6, "parallel": 6, "outcom": 6, "everyth": 6, "expect": 6, "termin": 6, "minut": 6, "disrep": 6, "detect": 6, "rerport": 6, "bug": 6, "everi": 6, "help": 6, "rule": 6, "highli": 6, "appreci": 6, "tester": 6, "dirk": 6, "w": 6, "hoffmann": 6, "2022": 6, "again": 6, "randomli": 6, "round": 6, "1": 6, "random": 6, "seed": 6, "442": 6, "exec": 6, "0x0000": 6, "0xefff": 6, "dasm": 6, "0xffff": 6, "65": 6, "89": 6, "31": 6, "78": 6, "ec020": 6, "99": 6, "2": 6, "70": 6, "67": 6, "3": 6, "62": 6, "ec030": 6, "34": 6, "4": 6, "53": 6, "68030": 6, "02": 6, "5": 6, "45": 6, "ec040": 6, "69": 6, "6": 6, "35": 6, "lc040": 6, "26": 6, "68040": 6, "04": 6, "8": 6, "18": 6, "fpu": 6, "complet": 6, "68ec020": 6, "get": 7, "system": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"how": [0, 1, 2, 3, 7], "us": [0, 1, 2, 3], "cpu": 0, "core": 0, "creat": 0, "custom": [0, 3], "run": [0, 3, 6], "queri": 0, "properti": 0, "manag": [0, 1], "interrupt": 0, "synchron": 0, "tweak": 0, "memori": 0, "access": 0, "debugg": [1, 2], "breakpoint": 1, "watchpoint": 1, "catchpoint": 1, "softwar": 1, "trap": 1, "log": 1, "deleg": 2, "system": 2, "state": 2, "instruct": 2, "except": 2, "cach": 2, "regist": 2, "disassembl": 3, "output": 3, "exampl": 3, "about": 4, "design": 4, "goal": 4, "histori": 4, "credit": 4, "configur": [5, 6], "option": 5, "get": 6, "start": 6, "obtain": 6, "compil": 6, "user": 7, "manual": 7, "overview": 7, "tutori": 7, "guid": 7, "refer": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"How to use the CPU core": [[0, "how-to-use-the-cpu-core"]], "Creating a custom CPU": [[0, "creating-a-custom-cpu"]], "Running the custom CPU": [[0, "running-the-custom-cpu"]], "Querying CPU properties": [[0, "querying-cpu-properties"]], "Managing interrupts": [[0, "managing-interrupts"]], "Synchronizing the CPU": [[0, "synchronizing-the-cpu"]], "Tweaking memory access": [[0, "tweaking-memory-access"]], "How to use the debugger": [[1, "how-to-use-the-debugger"]], "Managing Breakpoints": [[1, "managing-breakpoints"]], "Watchpoints": [[1, "watchpoints"]], "Catchpoints": [[1, "catchpoints"]], "Software traps": [[1, "software-traps"]], "Logging": [[1, "logging"]], "How to use the delegation system": [[2, "how-to-use-the-delegation-system"]], "State delegates": [[2, "state-delegates"]], "Instruction delegates": [[2, "instruction-delegates"]], "Exception delegates": [[2, "exception-delegates"]], "Cache register delegated": [[2, "cache-register-delegated"]], "Debugger delegates": [[2, "debugger-delegates"]], "How to use the disassembler": [[3, "how-to-use-the-disassembler"]], "Running the disassembler": [[3, "running-the-disassembler"]], "Customizing output": [[3, "customizing-output"]], "Examples": [[3, "examples"]], "About": [[4, "about"]], "Design goals": [[4, "design-goals"]], "History": [[4, "history"]], "Credits": [[4, "credits"]], "Configuration options": [[5, "configuration-options"]], "Getting started": [[6, "getting-started"]], "Obtaining": [[6, "obtaining"]], "Configuring": [[6, "configuring"]], "Compiling": [[6, "compiling"]], "Running": [[6, "running"]], "User manual": [[7, "user-manual"]], "Overview": [[7, null]], "Tutorials": [[7, null]], "How-to guides": [[7, null]], "Reference": [[7, null]]}, "indexentries": {}})